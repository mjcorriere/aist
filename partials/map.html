<div ng-controller='MapCtrl' style='height: 100%'>
  <div ng-if="makingRequest" class="load-indicator">
    <div class='load-image'>
      <img src='../img/ajax-loader.gif'>
    </div>
  </div>
  <div id='mapmap'>
  </div>
  <div id='map-controls'>
    <div class='time panel'>
      <div class='slider-container'>
        <slider 
          floor="{{limits.min}}"
          ceiling="{{limits.max}}"
          ng-model-low="o.lower"
          ng-model-high="o.upper"
          ng-model-mid="o.mid"
          buffer="5"
          translate="dateFormatter"
          redraw="redraw">
        </slider>
      </div>
    </div>
    <div class='quarter-panel-container'>
      <div class='first quarter panel'>
        <h1>Area of Interest</h1>
        <p>Centroid</p>
        {{centroid}}
        <p>Bounds</p>
        <div class='footer'>
          <button class='btn btn-sm btn-success' ng-click='startDrawing()'>
            <span class='glyphicon glyphicon-pencil'></span> Draw
          </button>
          <button class='btn btn-sm' 
            ng-class="{'btn-success': polygonDrawn, 'disabled': !polygonDrawn}" ng-click='removePolygon()'>
            <span class='glyphicon glyphicon-remove'></span> Remove
          </button>
        </div>
      </div>
    </div>
    <div class='quarter-panel-container'>
      <div class='quarter panel'>
        <h1>Search</h1>
        <p>Tags</p>
        <span class="label label-primary">
          <span class='glyphicon glyphicon-remove' aria-hidden='true'></span>AIRS</span>

        <span class="label label-primary">
          <span class='glyphicon glyphicon-remove' aria-hidden='true'></span>AQUA</span>

        <span class="label label-primary">
          <span class='glyphicon glyphicon-remove' aria-hidden='true'></span>Cloud</span>

        <span class="label label-primary">
          <span class='glyphicon glyphicon-remove' aria-hidden='true'></span>Level 3</span>

        <div class='footer'>
          <div class="input-group">
            <input type="text" class="form-control input-sm" ng-model='keyword' aria-label="...">
            <div class="input-group-btn">
              <button type="button" class="btn btn-sm btn-default">Add</button>
              <button type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span></button>
              <ul class="dropdown-menu" role="menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li><a href="#">Separated link</a></li>
              </ul>    
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class='quarter-panel-container'>
      <div class='quarter panel'>
        <h1>Time Window</h1>
        <label>Lower Limit</label>
        <div class='input-group'>
          <span class='input-group-btn'>
            <button type="button" class="btn btn-sm btn-default" ng-click='nudgeLowerLimit(-15)'><span class='glyphicon glyphicon-minus' aria-hidden='true'></span></button>
          </span>
          <input type='text' class='form-control input-sm' value='{{dateTimeFormatter(o.lower)}}' readonly>
          <span class='input-group-btn'>
            <button type="button" class="btn btn-sm btn-default" ng-click="nudgeLowerLimit(15)"><span class='glyphicon glyphicon-plus' aria-hidden='true'></span></button>
          </span>
        </div><br>
        <label>Upper Limit</label>
        <div class='input-group'>
          <span class='input-group-btn'>
            <button type="button" class="btn btn-sm btn-default" ng-click="nudgeUpperLimit(-15)"><span class='glyphicon glyphicon-minus' aria-hidden='true'></span></button>
          </span>
          <input type='text' class='form-control input-sm' value='{{dateTimeFormatter(o.upper)}}' readonly>
          <span class='input-group-btn'>
            <button type="button" class="btn btn-sm btn-default" ng-click="nudgeUpperLimit(15)"><span class='glyphicon glyphicon-plus' aria-hidden='true'></span></button>
          </span>
        </div>
      </div>
    </div>
    <div class='quarter-panel-container'>
      <div class='quarter panel'>
        <h1>Request Summary</h1>
          <div>
            <input type='checkbox' 
            ng-model="requestProgress.AOI" 
            style="cursor: default"
            > Area of Interest
          </div>
          <div>
            <input type='checkbox' 
              ng-model="requestProgress.keyword" 
              style="cursor: default"
            > Keywords
          </div>
          <div>
            <input type='checkbox' 
              ng-model="requestProgress.timeWindow" 
              style="cursor: default"
            > Time Window          
          </div>
        <div class='footer'>
          <button class='btn btn-sm btn-success btn-block' ng-click='makeRequest()'>
            <span class='glyphicon glyphicon-refresh' aria-hidden='true'></span> Request Data
          </button>
        </div>
      </div>
    </div>
  </div>
</div>


<!--     <h2>Map Controls</h2>
    <div class='control-row'>
      <h4>Area of Interest</h4>
      <button class='btn btn-xs btn-success' ng-click='startDrawing()'>
        <span class='glyphicon glyphicon-pencil'></span> Draw
      </button>
      <button class='btn btn-xs btn-success' ng-click='removePolygon()'>
        <span class='glyphicon glyphicon-remove'></span> Remove
      </button>
    </div>
    <div class='control-row'>
      <h4>Date Range</h4>
      <b>{{formatter(o.lower)}}</b> to <b>{{formatter(o.upper)}}</b>
      <div class='slider-container'>
        <slider 
          floor="{{limits.min}}"
          ceiling="{{limits.max}}"
          ng-model-low="o.lower"
          ng-model-high="o.upper"
          ng-model-mid="o.mid"
          buffer="5"
          translate="formatter"
          redraw="redraw">
        </slider>
      </div>
    </div>
    <div class='control-row'>
      <h4>Instrument</h4>
      <input class='form-control' ng-model='keyword' type='text'
      style='height: 25px; width: 150px'></input>
    </div>
    <div class='control-row'>
      <h4>Request</h4>
      <button class='btn btn-xs btn-success' ng-click='makeRequest()'>
        <span class='glyphicon glyphicon-refresh' aria-hidden='true'></span> Request Data
      </button>
    </div> -->